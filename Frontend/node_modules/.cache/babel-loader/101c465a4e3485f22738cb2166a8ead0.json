{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\barry\\\\Desktop\\\\SENG2021\\\\h18abrowniefrontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from'react';import axios from'axios';import Credentials from'../Credentials';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListReport(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),reports=_React$useState2[0],setReports=_React$useState2[1];var tmp=React.useContext(Credentials);var token=tmp.replace(/['\"]+/g,'');var params=new URLSearchParams([['token',token]]);useEffect(function(){fetchreports();},[]);useEffect(function(){console.log(reports);},[reports]);var fetchreports=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"https://h18abrownie.herokuapp.com/reports/list\",{params:params});case 2:response=_context.sent;setReports(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchreports(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"report List\"}),reports&&reports.map(function(report){return/*#__PURE__*/_jsxs(\"div\",{style:{alignItems:'center',margin:'40px 30px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"report Id: \",report.report_id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"FileName: \",report.report_name]})]},report.report_id);})]});}export default ListReport;","map":{"version":3,"sources":["C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/src/pages/ReportList.js"],"names":["React","useEffect","axios","Credentials","ListReport","useState","reports","setReports","tmp","useContext","token","replace","params","URLSearchParams","fetchreports","console","log","response","data","map","report","alignItems","margin","report_id","report_name"],"mappings":"waAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,wFAEA,QAASC,CAAAA,UAAT,EAAsB,CAClB,oBAA8BJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9B,oDAAOC,OAAP,qBAAgBC,UAAhB,qBAEA,GAAMC,CAAAA,GAAG,CAAGR,KAAK,CAACS,UAAN,CAAiBN,WAAjB,CAAZ,CACA,GAAMO,CAAAA,KAAK,CAAGF,GAAG,CAACG,OAAJ,CAAY,QAAZ,CAAsB,EAAtB,CAAd,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoB,CAAC,CAAC,OAAD,CAAUH,KAAV,CAAD,CAApB,CAAf,CAEAT,SAAS,CAAC,UAAM,CACda,YAAY,GACb,CAFQ,CAEN,EAFM,CAAT,CAGAb,SAAS,CAAC,UAAM,CACdc,OAAO,CAACC,GAAR,CAAYV,OAAZ,EACD,CAFQ,CAEN,CAACA,OAAD,CAFM,CAAT,CAGA,GAAMQ,CAAAA,YAAY,0FAAC,sKACMZ,CAAAA,KAAK,kDAAmD,CAAEU,MAAM,CAANA,MAAF,CAAnD,CADX,QACTK,QADS,eAEfV,UAAU,CAACU,QAAQ,CAACC,IAAV,CAAV,CAFe,sDAAD,kBAAZJ,CAAAA,YAAY,0CAAlB,CAIA,mBACI,aAAK,SAAS,CAAC,KAAf,wBACA,mCADA,CAGER,OAAO,EAAIA,OAAO,CAACa,GAAR,CAAY,SAAAC,MAAM,CAAE,CAC7B,mBACI,aAA4B,KAAK,CAAE,CAACC,UAAU,CAAC,QAAZ,CAAqBC,MAAM,CAAC,WAA5B,CAAnC,wBAEA,oCAAgBF,MAAM,CAACG,SAAvB,GAFA,cAGA,kCAAcH,MAAM,CAACI,WAArB,GAHA,GAAUJ,MAAM,CAACG,SAAjB,CADJ,CAOC,CARQ,CAHb,GADJ,CAgBH,CAED,cAAenB,CAAAA,UAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Credentials from '../Credentials';\r\n\r\nfunction ListReport() {\r\n    const [reports, setReports] = React.useState([]);\r\n\r\n    const tmp = React.useContext(Credentials);\r\n    const token = tmp.replace(/['\"]+/g, '');\r\n    const params = new URLSearchParams([['token', token]]);\r\n   \r\n    useEffect(() => {\r\n      fetchreports();\r\n    }, [])\r\n    useEffect(() => {\r\n      console.log(reports)\r\n    }, [reports])\r\n    const fetchreports=async()=>{\r\n        const response=await axios(`https://h18abrownie.herokuapp.com/reports/list`, { params});\r\n        setReports(response.data)    \r\n    }\r\n    return (\r\n        <div className=\"App\">\r\n        <h1>report List</h1>\r\n        {\r\n          reports && reports.map(report=>{\r\n            return(\r\n                <div key={report.report_id} style={{alignItems:'center',margin:'40px 30px'}}>\r\n                \r\n                <h4>report Id: {report.report_id}</h4>\r\n                <p>FileName: {report.report_name}</p>\r\n                </div>\r\n                )\r\n            })\r\n        }\r\n        </div>\r\n    );\r\n}\r\n   \r\nexport default ListReport;\r\n"]},"metadata":{},"sourceType":"module"}