{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\barry\\\\Desktop\\\\SENG2021\\\\h18abrowniefrontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from'react';import axios from'axios';import Credentials from'../Credentials';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListInvoice(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),invoices=_React$useState2[0],setInvoices=_React$useState2[1];var tmp=React.useContext(Credentials);var token=tmp.replace(/['\"]+/g,'');var params=new URLSearchParams([['token',token]]);useEffect(function(){fetchInvoices();},[]);useEffect(function(){console.log(invoices);},[invoices]);var fetchInvoices=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"https://h18abrownie.herokuapp.com/invoices/list\",{params:params});case 2:response=_context.sent;setInvoices(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchInvoices(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Invoice List\"}),invoices&&invoices.map(function(invoice){return/*#__PURE__*/_jsxs(\"div\",{style:{alignItems:'center',margin:'40px 30px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Invoice Id: \",invoice.invoice_id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"FileName: \",invoice.filename]})]},invoice.invoice_id);})]});}export default ListInvoice;","map":{"version":3,"sources":["C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/src/pages/invoiceList.js"],"names":["React","useEffect","axios","Credentials","ListInvoice","useState","invoices","setInvoices","tmp","useContext","token","replace","params","URLSearchParams","fetchInvoices","console","log","response","data","map","invoice","alignItems","margin","invoice_id","filename"],"mappings":"waAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,wFAEA,QAASC,CAAAA,WAAT,EAAuB,CACnB,oBAAgCJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBAEA,GAAMC,CAAAA,GAAG,CAAGR,KAAK,CAACS,UAAN,CAAiBN,WAAjB,CAAZ,CACA,GAAMO,CAAAA,KAAK,CAAGF,GAAG,CAACG,OAAJ,CAAY,QAAZ,CAAsB,EAAtB,CAAd,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoB,CAAC,CAAC,OAAD,CAAUH,KAAV,CAAD,CAApB,CAAf,CAEAT,SAAS,CAAC,UAAM,CACda,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAGAb,SAAS,CAAC,UAAM,CACdc,OAAO,CAACC,GAAR,CAAYV,QAAZ,EACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAGA,GAAMQ,CAAAA,aAAa,0FAAC,sKACKZ,CAAAA,KAAK,mDAAoD,CAAEU,MAAM,CAANA,MAAF,CAApD,CADV,QACVK,QADU,eAEhBV,WAAW,CAACU,QAAQ,CAACC,IAAV,CAAX,CAFgB,sDAAD,kBAAbJ,CAAAA,aAAa,0CAAnB,CAIA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACA,oCADA,CAGER,QAAQ,EAAIA,QAAQ,CAACa,GAAT,CAAa,SAAAC,OAAO,CAAE,CAChC,mBACE,aAA8B,KAAK,CAAE,CAACC,UAAU,CAAC,QAAZ,CAAqBC,MAAM,CAAC,WAA5B,CAArC,wBAEA,qCAAiBF,OAAO,CAACG,UAAzB,GAFA,cAGA,kCAAcH,OAAO,CAACI,QAAtB,GAHA,GAAUJ,OAAO,CAACG,UAAlB,CADF,CAOG,CARO,CAHd,GADF,CAgBH,CAED,cAAenB,CAAAA,WAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Credentials from '../Credentials';\r\n\r\nfunction ListInvoice() {\r\n    const [invoices, setInvoices] = React.useState([]);\r\n\r\n    const tmp = React.useContext(Credentials);\r\n    const token = tmp.replace(/['\"]+/g, '');\r\n    const params = new URLSearchParams([['token', token]]);\r\n   \r\n    useEffect(() => {\r\n      fetchInvoices();\r\n    }, [])\r\n    useEffect(() => {\r\n      console.log(invoices)\r\n    }, [invoices])\r\n    const fetchInvoices=async()=>{\r\n        const response=await axios(`https://h18abrownie.herokuapp.com/invoices/list`, { params});\r\n        setInvoices(response.data)    \r\n    }\r\n    return (\r\n      <div className=\"App\">\r\n      <h1>Invoice List</h1>\r\n      {\r\n        invoices && invoices.map(invoice=>{\r\n          return(\r\n            <div key={invoice.invoice_id} style={{alignItems:'center',margin:'40px 30px'}}>\r\n            \r\n            <h4>Invoice Id: {invoice.invoice_id}</h4>\r\n            <p>FileName: {invoice.filename}</p>\r\n            </div>\r\n            )\r\n            })\r\n        }\r\n        </div>\r\n    );\r\n}\r\n   \r\nexport default ListInvoice;\r\n"]},"metadata":{},"sourceType":"module"}