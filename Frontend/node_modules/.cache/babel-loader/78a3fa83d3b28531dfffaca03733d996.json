{"ast":null,"code":"import _slicedToArray from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./wrapper.css';import axios from'axios';import'./wrapper.css';import Credentials from'../Credentials';import{Box,Button,Container,TextField,Typography}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InvoiceSend(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),report=_React$useState2[0],setReport=_React$useState2[1];var tmp=React.useContext(Credentials);var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];function handleSubmit(event){event.preventDefault();var invoice_id=event.target[0].value;var recipientEmail=event.target[2].value;if(!invoice_id||!recipientEmail)return;var token=tmp.replace(/['\"]+/g,'');axios.post(\"https://h18abrownie.herokuapp.com/invoice/send\",{token:token,invoice_id:invoice_id,recipientEmail:recipientEmail}).then(function(response){console.log(response.data);if(response.data===null){setReport(\"Invoice has not been sent!\");}else{setReport(JSON.stringify(response.data));}}).catch(function(err){setError(\"An error has occured. Please try again.\");});}return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"lg\",children:/*#__PURE__*/_jsxs(Box,{boxShadow:1,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h2\",children:\"Send invoice to customer\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"invoice_id\",name:\"invoice_id\",label:\"Invoice id\",type:\"text\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"recipientEmail\",name:\"Recipient Email\",label:\"Recipient Email\",type:\"email\",autoFocus:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"report\",children:report?/*#__PURE__*/_jsx(\"p\",{children:report}):/*#__PURE__*/_jsx(\"p\",{children:error})})]})]})});}export default InvoiceSend;// UploadInvoice.propTypes = {\n//   setSelectedFile: PropTypes.func.isRequired\n// }","map":{"version":3,"sources":["C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/src/pages/invoiceSend.js"],"names":["React","useState","axios","Credentials","Box","Button","Container","TextField","Typography","InvoiceSend","report","setReport","tmp","useContext","error","setError","handleSubmit","event","preventDefault","invoice_id","target","value","recipientEmail","token","replace","post","then","response","console","log","data","JSON","stringify","catch","err"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,CAEA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,OACEC,GADF,CAEEC,MAFF,CAGEC,SAHF,CAIEC,SAJF,CAKEC,UALF,KAMO,mBANP,C,wFAQA,QAASC,CAAAA,WAAT,EAAuB,CACrB,oBAA4BT,KAAK,CAACC,QAAN,EAA5B,oDAAOS,MAAP,qBAAeC,SAAf,qBAEA,GAAMC,CAAAA,GAAG,CAAGZ,KAAK,CAACa,UAAN,CAAiBV,WAAjB,CAAZ,CACA,qBAA0BH,KAAK,CAACC,QAAN,EAA1B,qDAAOa,KAAP,qBAAcC,QAAd,qBAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,UAAU,CAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAnC,CACA,GAAMC,CAAAA,cAAc,CAAGL,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAvC,CACA,GAAI,CAACF,UAAD,EAAe,CAACG,cAApB,CAAoC,OAEpC,GAAMC,CAAAA,KAAK,CAAGX,GAAG,CAACY,OAAJ,CAAY,QAAZ,CAAsB,EAAtB,CAAd,CAEAtB,KAAK,CAACuB,IAAN,kDAA6D,CAAEF,KAAK,CAALA,KAAF,CAASJ,UAAU,CAAVA,UAAT,CAAqBG,cAAc,CAAdA,cAArB,CAA7D,EACCI,IADD,CACM,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,GAAIH,QAAQ,CAACG,IAAT,GAAkB,IAAtB,CAA4B,CAC1BnB,SAAS,CAAC,4BAAD,CAAT,CACD,CAFD,IAEO,CACLA,SAAS,CAACoB,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACG,IAAxB,CAAD,CAAT,CACD,CACF,CARD,EASCG,KATD,CASO,SAACC,GAAD,CAAS,CAAEnB,QAAQ,CAAC,yCAAD,CAAR,CAAsD,CATxE,EAUC,CAEH,mBACE,KAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,uBACE,MAAC,GAAD,EAAK,SAAS,CAAE,CAAhB,wBACE,KAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,sCADF,cAKI,cAAM,QAAQ,CAAEC,YAAhB,wBACE,KAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,MAAM,CAAC,QAFT,CAGE,QAAQ,KAHV,CAIE,SAAS,KAJX,CAKE,EAAE,CAAC,YALL,CAME,IAAI,CAAC,YANP,CAOE,KAAK,CAAC,YAPR,CAQE,IAAI,CAAC,MARP,CASE,SAAS,KATX,EADF,cAYE,KAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,MAAM,CAAC,QAFT,CAGE,QAAQ,KAHV,CAIE,SAAS,KAJX,CAKE,EAAE,CAAC,gBALL,CAME,IAAI,CAAC,iBANP,CAOE,KAAK,CAAC,iBAPR,CAQE,IAAI,CAAC,OARP,CASE,SAAS,KATX,EAZF,cAuBE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,KAA/B,CAAgC,OAAO,CAAC,WAAxC,CAAoD,KAAK,CAAC,SAA1D,oBAvBF,cA0BE,YAAK,SAAS,CAAC,QAAf,UAAyBN,MAAM,cAAG,mBAAIA,MAAJ,EAAH,cAAqB,mBAAII,KAAJ,EAApD,EA1BF,GALJ,GADF,EADF,CAyCD,CAED,cAAeL,CAAAA,WAAf,CACA;AACA;AACA","sourcesContent":["import React, { useState } from 'react';\r\nimport './wrapper.css';\r\nimport axios from 'axios';\r\nimport './wrapper.css';\r\n\r\nimport Credentials from '../Credentials';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core';\r\n\r\nfunction InvoiceSend() {\r\n  const [report, setReport] = React.useState();\r\n\r\n  const tmp = React.useContext(Credentials);\r\n  const [error, setError] = React.useState();\r\n  \r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const invoice_id = event.target[0].value;\r\n    const recipientEmail = event.target[2].value;\r\n    if (!invoice_id || !recipientEmail) return;\r\n\r\n    const token = tmp.replace(/['\"]+/g, '');\r\n\r\n    axios.post(`https://h18abrownie.herokuapp.com/invoice/send`, { token, invoice_id, recipientEmail })\r\n    .then((response) => {\r\n      console.log(response.data);\r\n      if (response.data === null) {\r\n        setReport(\"Invoice has not been sent!\");\r\n      } else {\r\n        setReport(JSON.stringify(response.data));\r\n      }\r\n    })\r\n    .catch((err) => { setError(\"An error has occured. Please try again.\"); });\r\n    } \r\n\r\n  return(\r\n    <Container component=\"main\" maxWidth=\"lg\">\r\n      <Box boxShadow={1}>\r\n        <Typography component=\"h1\" variant=\"h2\">\r\n          Send invoice to customer\r\n        </Typography>\r\n        {\r\n          <form onSubmit={handleSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"invoice_id\"\r\n              name=\"invoice_id\"\r\n              label=\"Invoice id\"\r\n              type=\"text\"\r\n              autoFocus \r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"recipientEmail\"\r\n              name=\"Recipient Email\"\r\n              label=\"Recipient Email\"\r\n              type=\"email\"\r\n              autoFocus \r\n            />\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\r\n            Submit\r\n            </Button>\r\n            <div className=\"report\">{report ? <p>{report}</p> : <p>{error}</p>}</div>\r\n          </form>\r\n\r\n            \r\n        }\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default InvoiceSend;\r\n// UploadInvoice.propTypes = {\r\n//   setSelectedFile: PropTypes.func.isRequired\r\n// }\r\n\r\n"]},"metadata":{},"sourceType":"module"}