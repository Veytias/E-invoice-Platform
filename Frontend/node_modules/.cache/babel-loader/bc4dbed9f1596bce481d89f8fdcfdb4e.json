{"ast":null,"code":"import _slicedToArray from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _readOnlyError from\"C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/node_modules/@babel/runtime/helpers/esm/readOnlyError.js\";import React,{useState}from'react';import'./wrapper.css';import axios from'axios';import'./wrapper.css';import Credentials from'../Credentials';import{Box,Button,Container,TextField,Typography}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InvoiceRemove(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),removed=_React$useState2[0],setRemoved=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var tmp=React.useContext(Credentials);function handleSubmit(event){event.preventDefault();var invoice_id=event.target[0].value;console.log(invoice_id);if(!invoice_id)return;var token=tmp.replace(/['\"]+/g,'');axios.delete(\"https://h18abrownie.herokuapp.com/invoices/remove\",{data:{token:\"\".concat(token),invoice_id:\"\".concat(invoice_id)}}).then(function(){true,_readOnlyError(\"setRemoved\");// console.log(response.data);\n}).catch(function(err){setError(\"Invoice does not exist!\");});}return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"lg\",children:/*#__PURE__*/_jsxs(Box,{boxShadow:1,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h2\",children:\"Remove Invoice\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"invoice_id\",name:\"invoice_id\",label:\"Invoice ID\",type:\"text\",autoFocus:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"removed\",children:removed?/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",removed]}):/*#__PURE__*/_jsx(\"p\",{children:error})})]})]})});}export default InvoiceRemove;","map":{"version":3,"sources":["C:/Users/barry/Desktop/SENG2021/h18abrowniefrontend/src/pages/invoiceRemove.js"],"names":["React","useState","axios","Credentials","Box","Button","Container","TextField","Typography","InvoiceRemove","removed","setRemoved","error","setError","tmp","useContext","handleSubmit","event","preventDefault","invoice_id","target","value","console","log","token","replace","delete","data","then","catch","err"],"mappings":"kRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,CAEA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,OACEC,GADF,CAEEC,MAFF,CAGEC,SAHF,CAIEC,SAJF,CAKEC,UALF,KAMO,mBANP,C,wFAQA,QAASC,CAAAA,aAAT,EAAyB,CACvB,oBAA8BT,KAAK,CAACC,QAAN,CAAe,KAAf,CAA9B,oDAAOS,OAAP,qBAAgBC,UAAhB,qBACA,qBAA0BX,KAAK,CAACC,QAAN,EAA1B,qDAAOW,KAAP,qBAAcC,QAAd,qBAEA,GAAMC,CAAAA,GAAG,CAAGd,KAAK,CAACe,UAAN,CAAiBZ,WAAjB,CAAZ,CAEA,QAASa,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,UAAU,CAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAnC,CACAC,OAAO,CAACC,GAAR,CAAYJ,UAAZ,EACA,GAAI,CAACA,UAAL,CAAiB,OAGjB,GAAMK,CAAAA,KAAK,CAAGV,GAAG,CAACW,OAAJ,CAAY,QAAZ,CAAsB,EAAtB,CAAd,CACAvB,KAAK,CAACwB,MAAN,qDAAkE,CAChEC,IAAI,CAAE,CACJH,KAAK,WAAKA,KAAL,CADD,CAEJL,UAAU,WAAKA,UAAL,CAFN,CAD0D,CAAlE,EAMCS,IAND,CAMM,UAAM,CACG,IAAb,8BACA;AACD,CATD,EAUCC,KAVD,CAUO,SAACC,GAAD,CAAS,CAAEjB,QAAQ,CAAC,yBAAD,CAAR,CAAqC,CAVvD,EAWC,CAEH,mBACE,KAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,uBACE,MAAC,GAAD,EAAK,SAAS,CAAE,CAAhB,wBACE,KAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,4BADF,cAKI,cAAM,QAAQ,CAAEG,YAAhB,wBACE,KAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,MAAM,CAAC,QAFT,CAGE,QAAQ,KAHV,CAIE,SAAS,KAJX,CAKE,EAAE,CAAC,YALL,CAME,IAAI,CAAC,YANP,CAOE,KAAK,CAAC,YAPR,CAQE,IAAI,CAAC,MARP,CASE,SAAS,KATX,EADF,cAYE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,KAA/B,CAAgC,OAAO,CAAC,WAAxC,CAAoD,KAAK,CAAC,SAA1D,oBAZF,cAeE,YAAK,SAAS,CAAC,SAAf,UAA0BN,OAAO,cAAG,gCAAYA,OAAZ,GAAH,cAA8B,mBAAIE,KAAJ,EAA/D,EAfF,GALJ,GADF,EADF,CA8BD,CAED,cAAeH,CAAAA,aAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport './wrapper.css';\r\nimport axios from 'axios';\r\nimport './wrapper.css';\r\n\r\nimport Credentials from '../Credentials';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core';\r\n\r\nfunction InvoiceRemove() {\r\n  const [removed, setRemoved] = React.useState(false);\r\n  const [error, setError] = React.useState();\r\n\r\n  const tmp = React.useContext(Credentials);\r\n  \r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const invoice_id = event.target[0].value;\r\n    console.log(invoice_id);\r\n    if (!invoice_id) return;\r\n    \r\n\r\n    const token = tmp.replace(/['\"]+/g, '');\r\n    axios.delete(`https://h18abrownie.herokuapp.com/invoices/remove`, {\r\n      data: {\r\n        token: `${token}`,\r\n        invoice_id: `${invoice_id}`\r\n      },\r\n    }) \r\n    .then(() => {\r\n      setRemoved = true;\r\n      // console.log(response.data);\r\n    })\r\n    .catch((err) => { setError(\"Invoice does not exist!\") });\r\n    } \r\n\r\n  return(\r\n    <Container component=\"main\" maxWidth=\"lg\">\r\n      <Box boxShadow={1}>\r\n        <Typography component=\"h1\" variant=\"h2\">\r\n          Remove Invoice\r\n        </Typography>\r\n        {\r\n          <form onSubmit={handleSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"invoice_id\"\r\n              name=\"invoice_id\"\r\n              label=\"Invoice ID\"\r\n              type=\"text\"\r\n              autoFocus \r\n            />\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\r\n            Submit\r\n            </Button>\r\n            <div className=\"removed\">{removed ? <p>Status: {removed}</p> : <p>{error}</p>}</div>\r\n          </form>\r\n\r\n            \r\n        }\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default InvoiceRemove;\r\n\r\n"]},"metadata":{},"sourceType":"module"}